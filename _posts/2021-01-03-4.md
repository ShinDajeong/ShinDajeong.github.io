---
layout: post
title: '[데이터베이스] 관계 데이터베이스 모델과 언어'
date: 2021-01-04 17:38:00
description: '구조, 제약조건, 관계대수 및 관계해석, 정규화, 뷰, 시스템 카탈로그'
---

#### 관계형 데이터베이스의 구조

- 개체나 관계를 모두 릴레이션이라는 표로 표현한다

- 구조를 나타내는 릴레이션 스키마와 실제 값들인 릴레이션 인스턴스로 구성

- 튜플 : 릴레이션을 구성하는 각각의 행. 속성들의 모임. 튜플의 수는 카디널리티 또는 기수라 한다

- 속성 : 데이터베이스를 구성하는 가장 작은 논리적 단위로 데이터 항목 또는 필드에 해당
  <br> 개체의 특성을 기술하며 속성의 수를 디그리 또는 차수라 한다

- 도메인 : 하나의 속성(애트리뷰트)이 취할 수 있는 같은 타입의 원자값들의 집합

- 릴레이션의 특징
  1. 한 릴레이션에는 똑같은 튜플이 포함될 수 없다
  2. 튜플 사이에는 순서가 없다
  3. 릴레이션은 시간에 따라 변한다 (튜플들의 삽입, 삭제, 수정에 의해)
  4. 속성들 간의 순서는 중요하지 않다
  5. 속성의 명칭은 유일, 그러나 속성 값은 동일할 수 있다
  6. 튜플을 유일하게 식별하기 위해 속성들의 부분집합을 키(key)로 설정한다
  7. 속성값은 쪼갤 수 없는 원자값만 저장
     <br>

#### 관계형 데이터베이스의 제약 조건

1. 키의 개념 및 종류

   - 키는 데이터베이스에서 조건에 만족하는 튜플을 찾거나 순서대로 정렬할 때 튜플들을 구분할 수 있는 기준이 되는 속성을 말한다

   - 후보키 : 튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분집합, 즉 기본키의 후보들
     <br> 유일성과 최소성을 만족해야 한다

   - 기본키 : 후보키 중에서 선택한 주 키(Main key)
     <br> null 값을 가질 수 없으며 중복값을 가질 수 없음

   - 대체키 : 후보키 중 기본키를 제외한 나머지. 보조키라고도 한다

   - 슈퍼키 : 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키
     <br> 릴레이션을 구성하는 모든 튜플들 중 슈퍼키로 구성된 속성의 집합과 동일한 값은 나타나지 않음 <br> 유일성은 만족하지만 최소성은 만족하지 않는다

   - 외래키 : 관계를 맺고 있는 릴레이션 R1, R2에서 릴레이션 R1이 참조하고 있는 릴레이션 R2의 기본키와 같은 R1 릴레이션의 속성
     <br> 외래키로 지정되면 참조 릴레이션의 기본키에 없는 값은 입력할 수 없음

2. 무결성

   - 개체 무결성 : 릴레이션에서 기본키를 구성하는 속성은 널값이나 중복값을 가질 수 없다
   - 참조 무결성 : 외래키 값은 null이거나 참조 릴레이션의 기본키와 동일해야 한다
     <br> 외래키와 참조하려는 테이블의 키본키는 도메인과 속성 개수가 같아야 한다

<br>

#### 관계대수 및 관계해석

1. 관계대수 : 관계형 데이터베이스에서 원하는 정보와 그 정보를 검색하기 위해 어떻게 유도하는가를 기술하는 *절차적*인 언어로, 피연산자가 릴레이션이고 그 결과도 릴레이션이다

2. 순수 관계 연산자 : select, project, join, division

3. 일반 집합 연산자 : union(합집합), intersection(교집합), difference(차집합), cartesian product(교차곱)

4. 관계해석 : 관계 데이터의 연산을 표현하는 방법으로 원하는 정보가 무엇이라는 것만 정의하는 _비절차적_ 특징을 가진다

<br>

#### 정규화

1. 정규화의 개념

   - 관계형 데이터베이스에서 정확성을 유지하기 위해 스키마를 쪼개는 과정
   - 데이터베이스의 논리적 설계 단계에서 수행

2. 정규화의 목적

   - 데이터 구조의 안정성 및 무결성을 유지
   - 이상의 발생을 방지하고 자료 저장 공간을 최소화

3. 이상의 개념 및 종류

   - 정규화를 거치지 않으면 데이터베이스 내에 데이터들이 불필요하게 중복되어 릴레이션 조작 시 예기치 못한 현상 발생
   - 삽입 이상 : 원하지 않는 값도 함께 삽입되는 현상
   - 삭제 이상 : 의도와 상관없는 값도 함께 연쇄 삭제되는 현상
   - 갱신 이상 : 일부 튜플의 정보만 갱신되어 정보에 모순이 생기는 현상

4. 정규화의 원칙

   - 정보의 손실이 있어서는 안된다
   - 분리의 원칙
   - 데이터의 중복성이 감소되어야 한다

5. 정규화 과정
   - 1NF -> 2NF -> 3NF -> BCNF -> 4NF -> 5NF
   - 제 1 정규형
     - 릴레이션에 속한 모든 값들이 원자 값으로만 구성
   - 제 2 정규형
     - 기본키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속을 만족
     - 완전 함수적 종속 : 기본키에 의해 속성이 결정
     - 부분 함수적 종속 : 기본키 일부에 의해 속성이 결정
   - 제 3 정규형
     - 기본키가 아닌 모든 속성이 기본키에 대해 이행적 종속을 만족하지 않음
     - 이행적 종속 : A -> B, B -> 일 때, A -> C를 만족하는 관계
   - BCNF
     - 결정자가 모두 후보키
   - 제 4 정규형
     - 릴레이션에 다치 종속이 성립하는 경우 모든 속성이 함수적 종속 관계를 만족
   - 제 5 정규형 - 모든 조인 종속이 후보키를 통해서만 성립
     <br>

#### 뷰(View)

1. 뷰의 개념
   - 사용자에게 접근이 허용된 자료만을 제한적으로 보여주기 위해 하나 이상의 기본 테이블로부터 유도된, 이름을 가지는 가상 테이블로, 저장장치 내에 물리적으로 존재하지 않음
2. 뷰의 특징

   - 데이터의 논리적 독립성을 제공할 수 있음
   - 필요한 데이터만 뷰로 정의해서 처리할 수 있기 때문에 관리가 용이
   - 기본키를 포함한 속성 집합으로 뷰를 구성해야만 삽입, 삭제, 갱신 연산 가능

3. 뷰의 장단점
   - 장점 : 논리적 데이터 독립성 제공, 데이터 관리 간단, 접근 제어를 통한 자동 보안 제공
   - 단점 : 독립적인 인덱스를 가질 수 없으며 뷰의 정의 변경할 수 없음 (alter view X)
     <br>

#### 시스템 카탈로그

1. 시스템 카탈로그의 의미
   - 시스템 자체에 관련이 있는 다양한 객체에 관한 정보를 포함하는 시스템 데이터베이스로 데이터 사전이라고도 함
   - 카탈로그에 저장된 정보를 메타 데이터라고 한다
2. 시스템 카탈로그의 특징
   - 시스템 테이블로 구성되어 있어 SQL문으로 검색해 볼 수 있다
   - DML(INSERT, DELETE, UPDATE) 문으로 갱신 불가능
